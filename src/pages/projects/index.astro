---
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects").then((projects) =>
  projects.map((project) => project.data)
);
---

<Layout>
  <div class="p-5">
    <h1 class="text-4xl font-bold">Projects</h1>
    <h3 class="">
      A full list of my projects can be found on my{" "}
      <a class="text-blue-500 underline" href="https://github.com/zanbowie138">
        Github
      </a>
      .
    </h3>
    <div>
      {
        projects.map((project) => (
          <div class="my-2 bg-gray-200 rounded-md p-2">
            <div class="my-2">
              <h2 class="text-2xl font-semibold underline">
                <a href={`projects/${project.id}`}>{project.title}</a>
              </h2>
              <p>{project.description}</p>
            </div>
            <div class="flex flex-wrap">
              {project.tags &&
                project.tags.map((tag) => (
                  <div class="mr-1 my-[1px]">
                    <div class="bg-slate-700 text-white rounded-md px-2 py-[2px] text-xs font-semibold">
                      {tag}
                    </div>
                  </div>
                ))}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</Layout>
